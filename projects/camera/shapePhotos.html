<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Shape Photo Maker - Sonia Online</title>
    <!-- Add icon library -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="icon" href="/images/icons/heart3.png" />
    <link rel="stylesheet" href="../../styles/stylesheet.css">
    <link rel="stylesheet" href="camera.css">

    <!-- Load the shape photo maker script -->
    <script src="shapePhotos.js" defer></script>

    <style>

        .shape-preview {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 3;
            opacity: 0.3;
        }

        .shape-options, .grid-options {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .shape-option, .grid-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            padding: 10px;
            border-radius: 1px;
            border: 1px solid transparent;
        }

        .shape-option:hover, .grid-option:hover {
            background-color: rgba(59, 89, 152, 0.1);
        }

        .shape-preview-option {
            width: 50px;
            height: 50px;
            margin-bottom: 5px;
        }

        .shape-option.selected, .grid-option.selected {
            font-weight: bold;
            color: #3b5998;
            border: 1px solid #3b5998;
            background-color: rgba(59, 89, 152, 0.1);
        }

        .upload-btn-wrapper {
            position: relative;
            overflow: hidden;
            display: inline-block;
            border: 1px solid #3b5998;
        }

        .upload-btn-wrapper input[type=file] {
            position: absolute;
            left: 0;
            top: 0;
            opacity: 0;

            cursor: pointer;
        }

        #videoElement {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: 2;
            display: none;
            transform: scaleX(-1); /* Mirror the video by default */
        }

        #gridContainer {
            display: grid;
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 3;
            pointer-events: none; /* Allow clicks to pass through empty areas */
        }

        .grid-item {
            border: 2px solid rgba(59, 89, 152, 0.8);
            position: relative;
            overflow: hidden;
            background: rgba(255, 255, 255, 0.05);
            pointer-events: auto; /* Re-enable clicks on grid items */
            min-height: 50px; /* Ensure grid items have minimum size */
        }

        .grid-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
            position: absolute;
            top: 0;
            left: 0;
            display: block;
        }

        .grid-item-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: rgba(0, 0, 0, 0.2);
            color: white;
            font-size: 24px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .grid-item-overlay:hover {
            background-color: rgba(59, 89, 152, 0.4);
        }

        .grid-item.filled .grid-item-overlay {
            display: none;
        }
    </style>
</head>
<body>
<nav class="navigation">
    <a href="../../index.html" class="nav-item">HOME</a>
    <a href="../../misc/resources.html" class="nav-item">RESOURCES</a>
    <a href="../../navigation/portfolio.html" class="nav-item">PORTFOLIO</a>
    <a href="../../creations/tutorials.html" class="nav-item">ABOUT</a>
    <a href="../../navigation/contact.html" class="nav-item">CONTACT</a>
</nav>

<div class="title-container">
    <div class="nav-links">
        <a href="../../index.html" class="sub-nav-item">SEE: </a>
        <a href="../../personal/music.html" class="sub-nav-item">music</a>
        <a href="../../personal/movies.html" class="sub-nav-item">movies</a>
        <a href="../../personal/books.html" class="sub-nav-item">books</a>
        <a href="../../personal/cards.html" class="sub-nav-item">cards</a>
    </div>
    <h1 class="page-title">SHAPE PHOTO MAKER</h1>
    <hr>
    <a href="../../creations/projects.html" style="text-decoration: none; font-size: 18px; color: #881010">← BACK TO ALL PROJECTS</a>
</div>

<div class="container" style="width: 80%;">
    <div class="left-panel" style="min-width: 300px;">
        <div class="info-section" style="margin-top: 0; margin-bottom: 0">
            <h2 style="margin: 0; font-size: 20px;">Shape Photo Maker</h2><hr>
            <p style="text-align: left">
                Create collage of photos in the shape of a heart of a strar 4 free!
            </p>
            <br>
            <h2 style="margin: 0; font-size: 20px;">How to use:</h2><hr>
            <p style="text-align: left">
                1. Choose a shape (heart or star)
                2. Choose a 3x3 or 4x4 grid
                3. Click "Start Camera"<br><br>
                4. Position yourself within the shape outline<br><br>
                5. Click on the grid cell and the current frame will freeze in that cell!<br>
            </p>

        </div>
    </div>

    <div class="canvas-container">
        <div class="camControl" style="grid-template-columns: repeat(2, 1fr);">
            <button id="startCamera">Start Camera</button>
            <button id="stopCamera" >Stop Camera</button>
        </div>
        <div style="position: relative; width: 100%; max-width: 600px; aspect-ratio: 1/1;">
            <canvas id="canvas" style="width: 100%; height: 100%; position: absolute; top: 0; left: 0;"></canvas>
            <div id="gridContainer" style="width: 100%; height: 100%; position: absolute; top: 0; left: 0;"></div>
            <video id="videoElement" playsinline autoplay></video>
            <svg class="shape-preview" id="shapePreview" viewBox="0 0 100 100" style="width: 100%; height: 100%; position: absolute; top: 0; left: 0;">
                <!-- Shape will be drawn here via JavaScript -->
            </svg>
        </div>
    </div>


    <div class="right-panel" style="height: max-content">

        <div class="slider-controls">
            <div class="slider-group">
                <label for="opacitySlider">Shape Outline Opacity: <span id="opacityValue">30</span>%</label>
                <input type="range" id="opacitySlider" min="0" max="100" value="30" class="slider">
            </div>
            <div class="grid-options">
                <div class="grid-option" data-grid="3">
                    <span>3×3 Grid</span>
                </div>
                <div class="grid-option" data-grid="4">
                    <span>4×4 Grid</span>
                </div>
            </div>
            <div class="shape-options">
                <div class="shape-option" data-shape="heart">
                    <svg class="shape-preview-option" viewBox="0 0 100 100">
                        <path d="M50 30 L20 10 Q0 10 0 30 Q0 60 50 90 Q100 60 100 30 Q100 10 80 10 Z" fill="#ff6b6b" />
                    </svg>
                    <span>Heart</span>
                </div>
                <div class="shape-option" data-shape="star">
                    <svg class="shape-preview-option" viewBox="0 0 100 100">
                        <path d="M50 10 L61 39 L93 39 L67 59 L78 90 L50 70 L22 90 L33 59 L7 39 L39 39 Z" fill="#ffd166" />
                    </svg>
                    <span>Star</span>
                </div>
            </div>
            <select id="cameraSelect" class="camera-select">
                <option value="">Loading cameras...</option>
            </select>
            <div class="camControl" style="grid-template-columns: repeat(1, 1fr);">
                <button id="flipButton">Flip Camera (<span id="cameraMode">front</span>)</button>
            </div>
            <button id="clearPhotosButton">Clear Photos</button>
            <button id="downloadButton"><i class="fa fa-download"></i> Download Collage</button>

        </div>
    </div>

</div>


<footer>
    <div class="socials">
        <a href="https://github.com/sonia-sharapova">GitHub</a>|
        <a href="https://www.linkedin.com/in/sonia-sharapova/">LinkedIn</a>|
        <a href="https://www.instagram.com/sonia.s.ru/">Instagram</a>
    </div>

    <div>
        Contact Links<br>
        2025
    </div>
</footer>
</body>
</html>