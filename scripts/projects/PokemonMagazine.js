const b1_cards = [
    '../images/pokemon/b1_png/1.png',
    '../images/pokemon/b1_png/2.png',
    '../images/pokemon/b1_png/3.png',
    '../images/pokemon/b1_png/4.png',
    '../images/pokemon/b1_png/5.png',
    '../images/pokemon/b1_png/6.png',
    '../images/pokemon/b1_png/7.png',
    '../images/pokemon/b1_png/9.png',
    '../images/pokemon/b1_png/10.png',
    '../images/pokemon/b1_png/11.png',
    '../images/pokemon/b1_png/12.png',
    '../images/pokemon/b1_png/13.png',
    '../images/pokemon/b1_png/14.png',
    '../images/pokemon/b1_png/15.png',
    '../images/pokemon/b1_png/16.png',
    '../images/pokemon/b1_png/17.png',
    '../images/pokemon/b1_png/18.png',
    '../images/pokemon/b1_png/19.png',
    '../images/pokemon/b1_png/20.png',
    '../images/pokemon/b1_png/21.png',
    '../images/pokemon/b1_png/22.png',
    '../images/pokemon/b1_png/23.png',
    '../images/pokemon/b1_png/24.png',
    '../images/pokemon/b1_png/25.png',
    '../images/pokemon/b1_png/27.png',
    '../images/pokemon/b1_png/28.png',
    '../images/pokemon/b1_png/29.png',
    '../images/pokemon/b1_png/30.png',
    '../images/pokemon/b1_png/31.png',
    '../images/pokemon/b1_png/33.png',
    '../images/pokemon/b1_png/34.png',
    '../images/pokemon/b1_png/35.png',
    '../images/pokemon/b1_png/36.png',
    '../images/pokemon/b1_png/37.png',
    '../images/pokemon/b1_png/38.png',
    '../images/pokemon/b1_png/39.png',
    '../images/pokemon/b1_png/40.png',
    '../images/pokemon/b1_png/41.png',
    '../images/pokemon/b1_png/42.png',
    '../images/pokemon/b1_png/43.png',
    '../images/pokemon/b1_png/44.png'
];

const b2_cards = [
    '../images/pokemon/b2_png/1.png',
    '../images/pokemon/b2_png/2.png',
    '../images/pokemon/b2_png/3.png',
    '../images/pokemon/b2_png/4.png',
    '../images/pokemon/b2_png/5.png',
    '../images/pokemon/b2_png/6.png',
    '../images/pokemon/b2_png/7.png',
    '../images/pokemon/b2_png/8.png',
    '../images/pokemon/b2_png/9.png',
    '../images/pokemon/b2_png/10.png',
    '../images/pokemon/b2_png/11.png',
    '../images/pokemon/b2_png/12.png',
    '../images/pokemon/b2_png/13.png',
    '../images/pokemon/b2_png/14.png',
    '../images/pokemon/b2_png/15.png',
    '../images/pokemon/b2_png/16.png',
    '../images/pokemon/b2_png/17.png',
    '../images/pokemon/b2_png/18.png',
    '../images/pokemon/b2_png/19.png',
    '../images/pokemon/b2_png/20.png',
    '../images/pokemon/b2_png/21.png',
    '../images/pokemon/b2_png/22.png',
    '../images/pokemon/b2_png/23.png',
    '../images/pokemon/b2_png/24.png',
    '../images/pokemon/b2_png/25.png',
    '../images/pokemon/b2_png/27.png',
    '../images/pokemon/b2_png/28.png',
    '../images/pokemon/b2_png/29.png',
    '../images/pokemon/b2_png/30.png',
    '../images/pokemon/b2_png/31.png',
    '../images/pokemon/b2_png/33.png',
    '../images/pokemon/b2_png/34.png',
    '../images/pokemon/b2_png/35.png',
    '../images/pokemon/b2_png/36.png',
    '../images/pokemon/b2_png/37.png',
    '../images/pokemon/b2_png/38.png',
    '../images/pokemon/b2_png/39.png',
    '../images/pokemon/b2_png/40.png',
    '../images/pokemon/b2_png/41.png',
    '../images/pokemon/b2_png/42.png',
    '../images/pokemon/b2_png/43.png',
    '../images/pokemon/b2_png/44.png',
    '../images/pokemon/b2_png/45.png',
    '../images/pokemon/b2_png/46.png',
    '../images/pokemon/b2_png/47.png',
    '../images/pokemon/b2_png/48.png',
    '../images/pokemon/b2_png/49.png',
    '../images/pokemon/b2_png/50.png',
    '../images/pokemon/b2_png/51.png',
    '../images/pokemon/b2_png/52.png',
    '../images/pokemon/b2_png/53.png'
];

const b3_cards = [
    '../images/pokemon/b3_png/1.png',
    '../images/pokemon/b3_png/3.png',
    '../images/pokemon/b3_png/4.png',
    '../images/pokemon/b3_png/5.png',
    '../images/pokemon/b3_png/6.png',
    '../images/pokemon/b3_png/7.png',
    '../images/pokemon/b3_png/9.png',
    '../images/pokemon/b3_png/10.png',
    '../images/pokemon/b3_png/11.png',
    '../images/pokemon/b3_png/12.png',
    '../images/pokemon/b3_png/13.png',
    '../images/pokemon/b3_png/14.png',
    '../images/pokemon/b3_png/15.png',
    '../images/pokemon/b3_png/16.png',
    '../images/pokemon/b3_png/17.png',
    '../images/pokemon/b3_png/18.png',
    '../images/pokemon/b3_png/19.png',
    '../images/pokemon/b3_png/20.png',
    '../images/pokemon/b3_png/21.png',
    '../images/pokemon/b3_png/22.png',
    '../images/pokemon/b3_png/23.png',
    '../images/pokemon/b3_png/24.png',
    '../images/pokemon/b3_png/25.png',
    '../images/pokemon/b3_png/26.png',
    '../images/pokemon/b3_png/27.png',
    '../images/pokemon/b3_png/28.png',
    '../images/pokemon/b3_png/29.png',
    '../images/pokemon/b3_png/30.png',
    '../images/pokemon/b3_png/31.png',
    '../images/pokemon/b3_png/32.png',
    '../images/pokemon/b3_png/33.png',
    '../images/pokemon/b3_png/34.png',
    '../images/pokemon/b3_png/35.png',
    '../images/pokemon/b3_png/36.png',
    '../images/pokemon/b3_png/37.png',
    '../images/pokemon/b3_png/38.png',
    '../images/pokemon/b3_png/39.png',
    '../images/pokemon/b3_png/40.png',
    '../images/pokemon/b3_png/41.png',
    '../images/pokemon/b3_png/42.png',
    '../images/pokemon/b3_png/43.png',
    '../images/pokemon/b3_png/44.png',
    '../images/pokemon/b3_png/45.png',
    '../images/pokemon/b3_png/46.png',
    '../images/pokemon/b3_png/47.png'
];

const trainers_cards = [
    '../images/pokemon/trainers_png/1.png',
    '../images/pokemon/trainers_png/2.png',
    '../images/pokemon/trainers_png/3.png',
    '../images/pokemon/trainers_png/4.png',
    '../images/pokemon/trainers_png/5.png',
    '../images/pokemon/trainers_png/6.png',
    '../images/pokemon/trainers_png/7.png',
    '../images/pokemon/trainers_png/8.png',
    '../images/pokemon/trainers_png/9.png',
    '../images/pokemon/trainers_png/10.png',
    '../images/pokemon/trainers_png/11.png',
    '../images/pokemon/trainers_png/12.png',
    '../images/pokemon/trainers_png/13.png',
    '../images/pokemon/trainers_png/14.png',
    '../images/pokemon/trainers_png/15.png',
    '../images/pokemon/trainers_png/16.png',
    '../images/pokemon/trainers_png/17.png',
    '../images/pokemon/trainers_png/18.png',
    '../images/pokemon/trainers_png/19.png',
    '../images/pokemon/trainers_png/20.png',
    '../images/pokemon/trainers_png/21.png',
    '../images/pokemon/trainers_png/22.png',
    '../images/pokemon/trainers_png/23.png',
    '../images/pokemon/trainers_png/24.png',
    '../images/pokemon/trainers_png/25.png',
    '../images/pokemon/trainers_png/26.png',
    '../images/pokemon/trainers_png/27.png',
    '../images/pokemon/trainers_png/28.png'
];

const React = window.React;
const { useState } = React;

const ChevronLeft = () =>
    React.createElement('svg', {
            xmlns: "http://www.w3.org/2000/svg",
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            stroke: "currentColor",
            strokeWidth: "2",
            strokeLinecap: "round",
            strokeLinejoin: "round"
        },
        React.createElement('path', {
            d: "M15 18l-6-6 6-6"
        })
    );

const ChevronRight = () =>
    React.createElement('svg', {
            xmlns: "http://www.w3.org/2000/svg",
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            stroke: "currentColor",
            strokeWidth: "2",
            strokeLinecap: "round",
            strokeLinejoin: "round"
        },
        React.createElement('path', {
            d: "M9 18l6-6-6-6"
        })
    );

const PokemonMagazine = () => {
    const [currentSpread, setCurrentSpread] = useState(0);
    const [selectedBinder, setSelectedBinder] = useState(null);
    const [viewMode, setViewMode] = useState('flip'); // 'flip' or 'gallery'

    // Card sets
    const cardSets = {
        pt1: {
            name: "Pt. 1",
            subtitle: "1 - 101",
            cards: b1_cards
        },
        pt2: {
            name: "Pt. 2",
            subtitle: "102 - 299",
            cards: b2_cards
        },
        pt3: {
            name: "Pt. 3",
            subtitle: "300 - 401",
            cards: b3_cards
        },

        trainers: {
            name: "Trainers / Energy / Stadiums",
            subtitle: "",
            cards: trainers_cards
        }
    };

    const currentCards = selectedBinder ? cardSets[selectedBinder].cards : [];
    const totalSpreads = Math.ceil(currentCards.length / 2);

    const handlePrevSpread = () => {
        setCurrentSpread(prev => Math.max(0, prev - 1));
    };

    const handleNextSpread = () => {
        setCurrentSpread(prev => Math.min(totalSpreads - 1, prev + 1));
    };

    const selectBinder = (binderId) => {
        if (binderId === 'trainers') return;
        setSelectedBinder(binderId);
        setCurrentSpread(0);
    };

    // Render binder selection (only binders, not the sections above)
    if (!selectedBinder) {
        return React.createElement('div', null,
            // Pt. 1
            React.createElement('div', {
                    className: 'binder-card pt1',
                    onClick: () => selectBinder('pt1'),
                    style: { gridColumn: '1' }
                },
                React.createElement('div', { className: 'binder-title' }, 'Pt. 1'),
                React.createElement('div', { className: 'binder-subtitle' }, '1 - 101')
            ),
            // Pt. 2
            React.createElement('div', {
                    className: 'binder-card pt2',
                    onClick: () => selectBinder('pt2'),
                    style: { gridColumn: '2' }
                },
                React.createElement('div', { className: 'binder-title' }, 'Pt. 2'),
                React.createElement('div', { className: 'binder-subtitle' }, '102 - 299')
            ),
            // Pt. 3
            React.createElement('div', {
                    className: 'binder-card pt3',
                    onClick: () => selectBinder('pt3'),
                    style: { gridColumn: '3' }
                },
                React.createElement('div', { className: 'binder-title' }, 'Pt. 3'),
                React.createElement('div', { className: 'binder-subtitle' }, '300 - 401')
            ),

            // Trainers
            React.createElement('div', {
                    className: 'binder-card trainers',
                    onClick: () => selectBinder('trainers'),
                    style: { gridColumn: '2' }
                },
                React.createElement('div', { className: 'binder-title' }, 'Trainers'),
                React.createElement('div', { className: 'binder-subtitle' }, 'Energy / Stadiums')
            )
        );
    }

    const renderPage = (card) => {
        if (!card) return React.createElement('div', {
            className: "flex items-center justify-center bg-gray-50 p-4",
            style: { width: '400px', height: '550px' }
        });

        return React.createElement('div', {
                className: "flex items-center justify-center bg-gray-50 p-4",
                style: { width: '400px', height: '550px' }
            },
            React.createElement('img', {
                src: card,
                alt: "Pokemon Card",
                style: {
                    maxWidth: '350px',
                    maxHeight: '450px',
                    width: '100%',
                    height: '100%',
                    objectFit: 'contain'
                }
            })
        );
    };

    const renderGalleryView = () => {
        return React.createElement('div', {
                style: {
                    display: 'grid',
                    gridTemplateColumns: 'repeat(auto-fill, minmax(200px, 1fr))',
                    gap: '20px',
                    padding: '40px',
                    maxWidth: '1400px',
                    margin: '0 auto'
                }
            },
            currentCards.map((card, idx) =>
                React.createElement('div', {
                        key: idx,
                        style: {
                            background: '#f9f9f9',
                            padding: '15px',
                            borderRadius: '8px',
                            boxShadow: '0 2px 4px rgba(0,0,0,0.1)',
                            transition: 'transform 0.2s',
                            cursor: 'pointer'
                        },
                        onMouseEnter: (e) => {
                            e.currentTarget.style.transform = 'translateY(-5px)';
                            e.currentTarget.style.boxShadow = '0 4px 8px rgba(0,0,0,0.15)';
                        },
                        onMouseLeave: (e) => {
                            e.currentTarget.style.transform = 'translateY(0)';
                            e.currentTarget.style.boxShadow = '0 2px 4px rgba(0,0,0,0.1)';
                        }
                    },
                    React.createElement('img', {
                        src: card,
                        alt: `Pokemon Card ${idx + 1}`,
                        style: {
                            width: '100%',
                            height: 'auto',
                            borderRadius: '4px'
                        }
                    })
                )
            )
        );
    };

    const renderFlipView = () => {
        return React.createElement('div', { className: "relative flex items-center justify-center p-8 w-full" },
            React.createElement('button', {
                onClick: handlePrevSpread,
                disabled: currentSpread === 0,
                className: `absolute p-2 rounded bg-gray-200 hover:bg-gray-300 ${
                    currentSpread === 0 ? 'opacity-50 cursor-not-allowed' : ''
                }`,
                style: { left: '120px' }
            }, React.createElement(ChevronLeft)),

            React.createElement('div', { className: "flex gap-4 bg-white p-6 rounded shadow-xl" },
                // Left Page
                renderPage(currentCards[currentSpread * 2]),
                // Right Page
                renderPage(currentCards[currentSpread * 2 + 1])
            ),

            React.createElement('button', {
                onClick: handleNextSpread,
                disabled: currentSpread === totalSpreads - 1,
                className: `absolute p-2 rounded bg-gray-200 hover:bg-gray-300 ${
                    currentSpread === totalSpreads - 1 ? 'opacity-50 cursor-not-allowed' : ''
                }`,
                style: { right: '120px' }
            }, React.createElement(ChevronRight))
        );
    };

    return React.createElement('div', { className: "flex flex-col items-center w-full min-h-screen bg-gray-100" },
        // Toolbar
        React.createElement('div', {
                className: "w-4/5 bg-gray-200 px-4 py-2 border border-gray-300 rounded text-grey-80 p-3 flex items-center justify-between",
                style: { marginTop: '40px', marginBottom: '20px' }
            },
            React.createElement('div', { className: "flex items-center gap-4" },
                React.createElement('button', {
                    onClick: () => setSelectedBinder(null),
                    className: "px-4 py-2 bg-gray-100 border border-gray-400 rounded hover:bg-gray-300"
                }, "â† Back to Collection"),
                React.createElement('span', { className: "text-lg font-semibold" },
                    cardSets[selectedBinder].name
                )
            ),
            React.createElement('div', { className: "flex items-center gap-4" },
                React.createElement('label', {
                        className: "flex items-center gap-2 cursor-pointer",
                        style: { fontSize: '0.95rem' }
                    },
                    React.createElement('input', {
                        type: 'checkbox',
                        checked: viewMode === 'gallery',
                        onChange: (e) => setViewMode(e.target.checked ? 'gallery' : 'flip'),
                        style: { cursor: 'pointer' }
                    }),
                    'Gallery View'
                ),
                viewMode === 'flip' && React.createElement('span', { className: "text-lg" },
                    `Spread ${currentSpread + 1} of ${totalSpreads}`
                )
            ),
            viewMode === 'flip' && React.createElement('div', { className: "flex gap-2" },
                Array.from({ length: totalSpreads }).map((_, idx) =>
                    React.createElement('button', {
                        key: idx,
                        onClick: () => setCurrentSpread(idx),
                        className: `w-4 h-4 rounded border border-gray-400 ${
                            currentSpread === idx ? 'bg-green-400' : 'bg-transparent'
                        }`
                    })
                )
            )
        ),

        // Card Display
        viewMode === 'flip' ? renderFlipView() : renderGalleryView()
    );
};

// Render to both the binder grid and the root element
const binderGridElement = document.getElementById('binder-grid');
if (binderGridElement) {
    window.ReactDOM.render(
        React.createElement(PokemonMagazine),
        binderGridElement
    );
}


export default PokemonMagazine;